#include <ultra64.h>
#include <PR/gs2dex.h>
__attribute__((aligned(8))) u16 cursor_tex_0[] = {0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xDEF7, 0xE739, 0xE739, 0xEF7B, 0xDEF7, 0xC631, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AD, 0xE739, 0xE739, 0xE739, 0xFFFF, 0xFFFF, 0xE739, 0xBDEF, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xCE73, 0xD6B5, 0xCE73, 0xDEF7, 0xFFFF, 0xFFFF, 0xEF7B, 0xD6B5, 0x9CE7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xAD6B, 0xBDEF, 0xB5AD, 0xC631, 0xE739, 0xFFFF, 0xFFFF, 0xE739, 0xC631, 0xC631, 0xDEF7, 0xCE73, 0xDEF7, 0xC631, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x8C63, 0x8421, 0x94A5, 0xC631, 0xEF7B, 0xFFFF, 0xEF7B, 0xD6B5, 0x9CE7, 0xE739, 0xE739, 0xB5AD, 0xE739, 0xCE73, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x4A53, 0x4A53, 0x94A5, 0xE739, 0xFFFF, 0xFFFF, 0xD6B5, 0xB5AD, 0xBDEF, 0xCE73, 0xBDEF, 0xBDEF, 0xB5AD, 0xAD6B, 0xAD6B, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xD6B5, 0xEF7B, 0xFFFF, 0xDEF7, 0xDEF7, 0xDEF7, 0xD6B5, 0xD6B5, 0xCE73, 0xC631, 0xBDEF, 0xB5AD, 0x9CE7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AD, 0xDEF7, 0xE739, 0xEF7B, 0xE739, 0xE739, 0xDEF7, 0xDEF7, 0xD6B5, 0xCE73, 0xC631, 0xBDEF, 0x9CE7, 0xA529, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xCE73, 0xEF7B, 0xFFFF, 0xFFFF, 0xEF7B, 0xEF7B, 0xE739, 0xDEF7, 0xDEF7, 0xC631, 0x94A5, 0xBDEF, 0x2109, 0x4211, 0x9CE7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xC631, 0xE739, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xEF7B, 0xE739, 0xDEF7, 0xC631, 0x0001, 0x1085, 0xA529, 0x0843, 0x94A5, 0x39CF, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xE739, 0xE739, 0xD6B5, 0xB5AD, 0xB5AC, 0xB5AC, 0xCE73, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xEF7B, 0xE739, 0xDEF7, 0x7BDF, 0x0843, 0x7BDF, 0xAD6B, 0x6319, 0x9CE7, 0x4211, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xE739, 0xFFFF, 0xFFFF, 0xFFFF, 0xE739, 0xCE73, 0xD6B5, 0xBDEF, 0xE739, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xEF7B, 0xE739, 0xDEF7, 0xAD6B, 0x5AD7, 0xC631, 0xA529, 0xAD6B, 0x9CE7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xE739, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xCE73, 0xD6B5, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xE739, 0xE739, 0xDEF7, 0xD6B5, 0xCE73, 0xC631, 0xB5AD, 0xA529, 0x8C63, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xD6B5, 0xE739, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xC631, 0xDEF7, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xEF7B, 0xE739, 0xDEF7, 0xD6B5, 0xCE73, 0xC631, 0xBDEF, 0x9CE7, 0x94A5, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xA529, 0xBDEF, 0xCE73, 0xDEF7, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xD6B5, 0xBDEF, 0xDEF7, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xEF7B, 0xE739, 0xDEF7, 0xDEF7, 0xD6B5, 0xC631, 0xB5AD, 0xA529, 0xB5AD, 0xB5AD, 0xAD6B, 0x9CE7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x7BDF, 0x94A5, 0xA529, 0xCE73, 0xDEF7, 0xE739, 0xE739, 0xC631, 0xBDEF, 0xBDEF, 0xD6B5, 0xE739, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xE739, 0xDEF7, 0xD6B5, 0xC631, 0xC631, 0xD6B5, 0xD6B5, 0xCE73, 0xC631, 0xB5AD, 0xA529, 0x8C63, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x94A5, 0xB5AD, 0xB5AD, 0xB5AD, 0xAD6B, 0xBDEF, 0x9CE7, 0xB5AD, 0xD6B5, 0xDEF7, 0xEF7B, 0xFFFF, 0xFFFF, 0xFFFF, 0xE739, 0xD6B5, 0xC631, 0xDEF7, 0xE739, 0xE739, 0xDEF7, 0xCE73, 0xC631, 0xB5AD, 0x9CE7, 0x8421, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x7BDF, 0x739D, 0x739D, 0x739D, 0x94A5, 0x9CE7, 0x8C63, 0xAD6B, 0xC631, 0xD6B5, 0xDEF7, 0xE739, 0xD6B5, 0xC631, 0xD6B5, 0xEF7B, 0xEF7B, 0xEF7B, 0xE739, 0xD6B5, 0xC631, 0xB5AD, 0xA529, 0x8C63, 0x739D, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x739D, 0x8421, 0x7BDF, 0x94A5, 0xAD6B, 0xBDEF, 0xC631, 0xBDEF, 0xD6B5, 0xEF7B, 0xFFFF, 0xFFFF, 0xE739, 0xD6B5, 0xC631, 0xB5AD, 0xA529, 0x8C63, 0x7BDF, 0x6319, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x6319, 0x739D, 0x8C63, 0x9CE7, 0xD6B5, 0xEF7B, 0xFFFF, 0xFFFF, 0xEF7B, 0xD6B5, 0xC631, 0xAD6B, 0x9CE7, 0x8C63, 0x7BDF, 0x6B5B, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x94A5, 0xE739, 0xFFFF, 0xFFFF, 0xEF7B, 0xD6B5, 0xBDEF, 0xA529, 0x94A5, 0x8421, 0x739D, 0x6B5B, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AD, 0xDEF7, 0xE739, 0xDEF7, 0xC631, 0xB5AD, 0x9CE7, 0x8C63, 0x7BDF, 0x6B5B, 0x6319, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xA529, 0xC631, 0xC631, 0xB5AD, 0xA529, 0x94A5, 0x8421, 0x739D, 0x6319, 0x5AD7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x94A5, 0x9CE7, 0x8C63, 0x8421, 0x739D, 0x6319, 0x5AD7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0x6B5B, 0x6B5B, 0x6319, 0x5AD7, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, 0xB5AC, };
Gfx cursor_align_0[] = {gsSPEndDisplayList()};

#define qs510(n) ((s16)((n)*0x0400))
#define qs1516(n) ((s32)((n)*0x00010000))
#define qs102(n) ((s16)((n)*0x0004))

uObjTxtrBlock_t cursor_tex = {
	G_OBJLT_TXTRBLOCK, 
	(u64 *) &cursor_tex_0, /* image */
	GS_PIX2TMEM(0, G_IM_SIZ_16b), /* tmem */
	GS_TB_TSIZE(32*32,  G_IM_SIZ_16b),  /* tsize   */
	GS_TB_TLINE(32,     G_IM_SIZ_16b),  /* tline   */
	0, /* sid */
	(u32) &cursor_tex_0, /* flag */
	0xFFFFFFFF, /* mask */
};
Gfx cursor_init_dl[] = {
	gsDPPipeSync(),
	gsDPSetTexturePersp(G_TP_NONE),
	gsDPSetTextureLOD(G_TL_TILE),
	gsDPSetTextureLUT(G_TT_NONE),
	gsDPSetTextureConvert(G_TC_FILT),
	gsDPSetAlphaCompare(G_AC_THRESHOLD),
	gsDPSetBlendColor(0, 0, 0, 0x01),
	gsDPSetCombineMode(G_CC_DECALRGBA, G_CC_DECALRGBA),
	gsSPEndDisplayList(),
};

uObjMtx cursor_mtx = {
	0x10000,  0,              /* A,B */
	0,        0x10000,        /* C,D */
	0 << 2,        0 << 2,            /* X,Y */
	1<<10,    1<<10           /* BaseScaleX, BaseScaleY */
};
uObjSprite cursor_obj = {
	-16<<2, 1<<10, 32<<5, 0,          /* objX, scaleX, imageW, unused */
	-16<<2, 1<<10, 32<<5, 0,          /* objY, scaleY, imageH, unused */
	GS_PIX2TMEM(32, G_IM_SIZ_16b), /* imageStride */
	GS_PIX2TMEM(0, G_IM_SIZ_16b), /* imageAdrs */
	G_IM_FMT_RGBA, /* imageFmt */
	G_IM_SIZ_16b, /* imageSiz */
	0, /* imagePal */
	0, /* imageFlags */
};
Gfx cursor_sprite_dl[] = {
	gsDPPipeSync(),
	gsSPDisplayList(cursor_init_dl),
	gsDPSetCycleType(G_CYC_1CYCLE),
	gsDPSetRenderMode(G_RM_XLU_SPRITE, G_RM_XLU_SPRITE2),
	gsSPObjRenderMode(G_OBJRM_XLU | G_OBJRM_BILERP),
	gsSPObjLoadTxtr(&cursor_tex),
	gsSPObjMatrix(&cursor_mtx),
	gsSPObjSprite(&cursor_obj),
	gsSPEndDisplayList(),
};// 32 32

uObjTxtrBlock_t texParms = {
    G_OBJLT_TXTRBLOCK, 
    (u64 *) NULL, /* image */
    GS_PIX2TMEM(0, G_IM_SIZ_16b), /* tmem */
    GS_TB_TSIZE(64*32,  G_IM_SIZ_16b),  /* tsize   */
    GS_TB_TLINE(64,     G_IM_SIZ_16b),  /* tline   */
    0, /* sid */
    (u32) NULL, /* flag */
    0xFFFFFFFF, /* mask */
};
uObjMtx tex_mtx = {
	0x10000,  0,              /* A,B */
	0,        0x10000,        /* C,D */
	100 << 2,        70 << 2,            /* X,Y */
	1<<10,    1<<10           /* BaseScaleX, BaseScaleY */
};
uObjSprite tex_obj = {
    0<<2, qs510(0.33), 64<<5, 0,          /* objX, scaleX, imageW, unused */
    0<<2, qs510(0.33), 32<<5, 0,          /* objY, scaleY, imageH, unused */
    .s.imageStride = GS_PIX2TMEM(64, G_IM_SIZ_16b), /* imageStride */
    .s.imageAdrs = GS_PIX2TMEM(0, G_IM_SIZ_16b), /* imageAdrs */
    G_IM_FMT_RGBA, /* imageFmt */
    G_IM_SIZ_16b, /* imageSiz */
    0, /* imagePal */
    0, /* imageFlags */
};

